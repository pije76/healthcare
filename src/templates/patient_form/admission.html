{% extends 'base.html' %}

{% load static %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block headtitle %}
    {{ page_title }} | {{ titles.title }}
{% endblock %}

{% block styles %}
	<link href="{% static 'css/patient_form/admission.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}

<div class="row isi">

	<div class="formtitle">
		{{ page_title }}
	</div>
	
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

		<form method="post">
			{% csrf_token %}
			<table class="table table-bordered">
				<tbody>
					<tr>
						<td>Admission:</td>
						<td colspan="2">{{ form.date|as_crispy_field }}</td>
						<td style="padding-left: 15px; display: inline-flex;">{{ form.time|as_crispy_field }} <p style="margin-top:5px;">hours</p></td>
					</tr>
					<tr>
						<td>Admitted through:</td>
						<td colspan="3">{{ form.admitted|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Mode of admission:</td>
						<td colspan="3">{{ form.mode|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Full name  (as per IC):</td>
						<td>{{ form.full_name|as_crispy_field }}</td>
						<td>IC No:</td>
						<td>{{ form.ic_number|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Age:</td>
						<td>{{ form.age|as_crispy_field }}</td>
						<td>Date of birth:</td>
						<td>{{ form.birth_date|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Sex / Gender:</td>
						<td colspan="3">{{ form.gender|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Marital Status:</td>
						<td colspan="3">{{ form.marital_status|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Religion:</td>
						<td colspan="3">{{ form.religion|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Occupation:</td>
						<td colspan="3">{{ form.occupation|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Communication:</td>
						<td colspan="3">
						{{ form.communication_sight|as_crispy_field }}
						<br />
						{{ form.communication_hearing|as_crispy_field }}
						<br />
						{{ form.communication_others|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Address:</td>
						<td colspan="3">{{ form.address|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Tel No:</td>
						<td colspan="3">{{ form.phone|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Emergency contact:</td>
						<td colspan="3">{{ form.ec_name|as_crispy_field }}</td>
					</tr>
					<tr>
						<td></td>
						<td colspan="3">{{ form.ec_ic_number|as_crispy_field }}</td>
					</tr>
					<tr>
						<td></td>
						<td colspan="3">{{ form.ec_relationship|as_crispy_field }}</td>
					</tr>
					<tr>
						<td></td>
						<td colspan="3">{{ form.ec_phone|as_crispy_field }}</td>
					</tr>
					<tr>
						<td></td>
						<td colspan="3">{{ form.ec_address|as_crispy_field }}</td>
					</tr>

					<tr>
						<td>General condition:</td>
						<td colspan="3">{{ form.general_condition|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Vital sign:</td>
						<td colspan="3">
							<table style="width: -webkit-fill-available;">
								<tbody>
									<tr>
										<td>Temp (ยบc):</td>
										<td style="padding-left: 15px; display: inline-flex; width: -webkit-fill-available;">{{ form.vital_sign_temperature|as_crispy_field }}<p style="margin-top:5px;">ยบ</p></td>
									</tr>
									<tr>
										<td>Pulse (bpm):</td>
										<td>{{ form.vital_sign_pulse|as_crispy_field }}</td>
									</tr>
									<tr>
										<td>BP (mmHg):</td>
										<td>{{ form.vital_sign_bp|as_crispy_field }}</td>
									</tr>
									<tr>
										<td>Resp (min):</td>
										<td>{{ form.vital_sign_resp|as_crispy_field }}</td>
									</tr>
									<tr>
										<td>SPO2 (%):</td>
										<td style="padding-left: 15px; display: inline-flex; width: -webkit-fill-available;">{{ form.vital_sign_spo2|as_crispy_field }}<p style="margin-top:5px;">% (RA)</p></td>
									</tr>
									<tr>
										<td>On Oxygen therapy:</td>
										<td>{{ form.vital_sign_on_oxygen_therapy|as_crispy_field }}</td>
									</tr>
									<tr>
										<td>HGT(mmol/L):</td>
										<td>{{ form.vital_sign_hgt|as_crispy_field }}</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<td>Allergy:</td>
						<td>{{ form.allergy_drug|as_crispy_field }}</td>
						<td>{{ form.allergy_food|as_crispy_field }}</td>
						<td>{{ form.allergy_others|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Biohazard/ infectious disease:</td>
						<td colspan="3">{{ form.biohazard_infectious_disease|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Invasive line insitu:</td>
						<td colspan="3">{{ form.invasive_line_insitu|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Medical history:</td>
						<td colspan="3">{{ form.medical_history|as_crispy_field }}</td>
					</tr>					<tr>
						<td>Surgical history:</td>
						<td colspan="3">{{ form.surgical_history|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Date:<br />{{ form.date_diagnosis|as_crispy_field }}</td>
						<td>Diagnosis:<br />{{ form.diagnosis|as_crispy_field }}</td>
						<td>Date:<br />{{ form.date_operation|as_crispy_field }}</td>
						<td>Operation:<br />{{ form.operation|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Own medication:</td>
						<td colspan="3">{{ form.own_medication|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Adaptive aids with patient on admission:</td>
						<td colspan="3">{{ form.adaptive_aids_with_patient|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Orientation:</td>
						<td colspan="3">{{ form.orientation|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Special information:</td>
						<td colspan="3">{{ form.special_information|as_crispy_field }}</td>
					</tr>
					<tr>
						<td>Admission done by:</td>
						<td colspan="3">{{ form.special_information|as_crispy_field }}</td>
					</tr>
				</tbody>
			</table>
			<button type="submit" class="btn btn-primary">Submit</button>
		</form>

	</div>

</div>

<script type="text/javascript">
$(document).ready(function()
{
	$('input[id^="id_mode_"]').click(function()
	{
		var $this = $(this);
		if ($this.is("#id_mode_1"))
		{
			if ($("#id_mode_1:checked").length > 0)
			{
				$("#id_mode_2").prop({ checked: false });
			}
			else
			{
				$("#id_mode_2").prop("disabled", false);
			}
		}
		else if ($this.is("#id_mode_2"))
		{
			if ($("#id_mode_2:checked").length > 0)
			{
				$("#id_mode_1").prop({ checked: false });
			}
			else
			{
				$("#id_mode_1").prop("disabled", false);
			}
		}
	});

	$('input[id^="id_gender_"]').click(function()
	{
		var $this = $(this);
		if ($this.is("#id_gender_1"))
		{
			if ($("#id_gender_1:checked").length > 0)
			{
				$("#id_gender_2").prop({ checked: false });
			}
			else
			{
				$("#id_gender_2").prop("disabled", false);
			}
		}
		else if ($this.is("#id_gender_2"))
		{
			if ($("#id_gender_2:checked").length > 0)
			{
				$("#id_gender_1").prop({ checked: false });
			}
			else
			{
				$("#id_gender_1").prop("disabled", false);
			}
		}
	});
});
</script>
{% endblock %}
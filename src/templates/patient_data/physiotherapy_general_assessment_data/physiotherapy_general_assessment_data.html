{% extends 'base.html' %}

{% load static %}
{% load staticfiles %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load widget_tweaks %}

{% block headtitle %}
    {{ page_title }} | {{ titles.title }}
{% endblock %}

{% block styles %}
<link href="{% static 'css/patient_data/physiotherapy_general_assessment.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'css/patient_data/patient_data.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block javascript %}

    <script type="text/javascript">
    $(document).ready(function()
    {
        $('#t_add_row').DataTable(
        {
            "order": [[ 0, "desc" ]]
        });
    });
    </script>

{% endblock %}

{% block content %}

<div class="page-wrapper">

    <div class="container-fluid">

        <div class="formtitle">
            {{ page_title }}
        </div>

        <div class="row detail">

    <div class="col-12">
        {% if profiles %}
                {% for item in profiles %}
                <div class="col-4">
                    <span id="name_title">{% trans "Name" %}:</span>
                    <span id="name_field">{{ item.full_name }}</span>
                </div>
                <div class="col-6">
                    <span id="class_title">{% trans "IC Number" %}:</span>
                    <span id="class_field">{{ item.ic_number }}</span>
                </div>
                {% endfor %}
        {% endif %}
    </div>

</div>

        <div class="row">

            <div class="col-12">
                <div class="card">

                    <div class="card-body">

                        <div class="table-responsive">
                            <form method="post" id="dataForm" data-url="" novalidate>
                            {% csrf_token %}
                                <table id="t_add_row" class="table table-striped table-bordered display" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th class="text-center">{% trans "Doctor's Diagnosis" %}</th>
                                            <th class="text-center">{% trans "Doctor's Management" %}</th>
                                            <th class="text-center">{% trans "Problem" %}</th>
                                            <th class="text-center">{% trans "Pain Scale" %}</th>
                                            <th class="text-center">{% trans "Comments" %}</th>
                                            <th class="text-center">{% trans "Special Question" %}</th>
                                            <th class="text-center">{% trans "General Health" %}</th>
                                            <th class="text-center">{% trans "PMX / Surgery" %}</th>
                                            <th class="text-center">{% trans "IX/MRI/X-Ray" %}</th>
                                            <th class="text-center">{% trans "Medications/Steroids" %}</th>
                                            <th class="text-center">{% trans "Palpation" %}</th>
                                            <th class="text-center">{% trans "Pacemaker/Hearing Aid" %}</th>
                                            <th class="text-center">{% trans "Splinting" %}</th>
                                            <th class="text-center">{% trans "Physical Examination Movement" %}</th>
                                            <th class="text-center">{% trans "Muscle Power" %}</th>
                                            <th class="text-center">{% trans "Functional Activities" %}</th>
                                            <th class="text-center">{% trans "Special Test" %}</th>
                                            <th class="text-center">{% trans "Date & Time" %}</th>
                                            <th class="text-center">{% trans "Attending Physiotherapist" %}</th>
                                            <th class="text-center">{% trans "Current History" %}</th>
                                            <th class="text-center">{% trans "Past History" %}</th>
                                            <th class="text-center">{% trans "Neurological" %}</th>
                                            <th class="text-center">{% trans "Clearing Test/ Other Joint" %}</th>
                                            <th class="text-center">{% trans "Physiotherapistâ€™s Impression" %}</th>
                                            <th class="text-center">{% trans "Short Term Goals" %}</th>
                                            <th class="text-center">{% trans "Long Term Goals" %}</th>
                                            <th class="text-center">{% trans "Plan Treatment" %}</th>
                                            <th class="text-center">{% trans "Action" %}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in patients %}
                                        <tr>
                                            <td>{{ item.doctor_diagnosis }}</td>
                                            <td>{{ item.doctor_management }}</td>
                                            <td>{{ item.problem }}</td>
                                            <td>{{ item.get_pain_scale_display }}</td>
                                            <td>{{ item.comments }}</td>
                                            <td>{{ item.special_question }}</td>
                                            <td>{{ item.general_health }}</td>
                                            <td>{{ item.pmx_surgery }}</td>
                                            <td>{{ item.ix_mri_x_ray }}</td>
                                            <td>{{ item.medications_steroids }}</td>
                                            <td>{{ item.occupation_recreation }}</td>
                                            <td>{{ item.pacemaker_hearing_aid }}</td>
                                            <td>{{ item.splinting }}</td>
                                            <td>{{ item.get_physical_examination_movement_display }}</td>
                                            <td>{{ item.muscle_power }}</td>
                                            <td>{{ item.functional_activities }}</td>
                                            <td>{{ item.special_test }}</td>
                                            <td>{{ item.date_time }}</td>
                                            <td>{{ item.attending_physiotherapist }}</td>
                                            <td>{{ item.current_history }}</td>
                                            <td>{{ item.past_history }}</td>
                                            <td>{{ item.get_neurological_display }}</td>
                                            <td>{{ item.clearing_test_other_joint }}</td>
                                            <td>{{ item.physiotherapists_impression }}</td>
                                            <td>{{ item.short_term_goals }}</td>
                                            <td>{{ item.long_term_goals }}</td>
                                            <td>{{ item.plan_treatment }}</td>
                                            <td>
                                                <button type="button" class="btn btn-sm btn-icon btn-pure btn-outline edit-row-btn" data-url="{% url 'patient_data:physiotherapy_general_assessment_data_edit' item.id %}"data-original-title="Edit" title="Edit" style="background-color:transparent;"><i class="fas fa-pencil-alt" style="color: #b2b9bf"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-icon btn-pure btn-outline delete-row-btn" data-url="{% url 'patient_data:physiotherapy_general_assessment_data_delete' item.id %}"data-original-title="Delete" title="Delete" style="background-color:transparent;"><i class="fas fa-trash-alt" style="color: #b2b9bf"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tfoot>
                                </table>
                            </form>
                        </div>
                        {% for item in profiles %}
                        <a class="btn btn-danger" href="{% url 'patient_data:patientdata_detail' item.id %}">{% trans "Back" %}</a>
                        {% endfor %}

                    </div>

                </div>
            </div>

        </div>

        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" style="display: none;" aria-hidden="true">
            <div class="modal-dialog" role="document">

                <div class="modal-content">

                </div>

            </div>
        </div>

    </div>

</div>

{% endblock %} 
